# Kanbreeze タスクリスト

## 1. デザイン & 横断機能 (`docs/specs/design.md`)
- [x] 製品全体で共通利用するテーマトークンとライト/ダーク自動切替・色覚配慮設定を実装方針に沿って設計する。（→ §13 Theme Token System）
- [x] リアルタイム更新・楽観的UI・オフライン復旧・通知配信などの横断アーキテクチャ（APIゲートウェイ、WebSocket/SSE、バックグラウンドワーカー）を整備する。（→ §14 Real-time & Offline Experience Architecture）
- [x] 認証/認可、監査ログ、セキュリティ制御（RBAC/ABAC、MFA、監査イベント、シークレット管理）と国際化/アクセシビリティのポリシーを具体的な技術選定に落とし込む。（→ §7 Cross-Cutting Concerns, §15 Security, Compliance & Globalization Blueprint）

## 2. ダッシュボード (`docs/specs/dashboard/requirements.md`)

ダッシュボード要件を Epic/Requirement 単位で追跡する。ユーザーストーリーや受け入れ基準の詳細は要件ドキュメントを参照。

### Epic 1: ダッシュボードの基本構造とホーム体験
- [x] Requirement 1: ロール/アクティビティに応じたホームカード（マイタスク、期日接近、未読メンション）とKPI表示、レイアウト保存、スケルトンUIを成立させる。
- [x] Requirement 2: 進行中/未設定/完了のスプリント状況に応じて残日・ポイント・バーンダウン、導線、レビュー誘導を切り替える。
- [x] Requirement 3: 複数プロジェクト比較カードを権限に応じて並列表示し、詳細遷移まで整備する。
- [x] Requirement 4: セクション開閉アニメーション、状態保存、未読バッジの常時表示を実装する。
- [x] Requirement 5: ゲスト制限（伏せ字表示、アクセス拒否/申請導線、非公開タグの抑止）を実装する。

### Epic 2: ウィジェットの追加・配置・レイアウト
- [x] Requirement 6: ウィジェットギャラリー（検索/プレビュー）、追加即時配置、削除取り消しを実装する。
- [x] Requirement 7: ドラッグ&ドロップ/キーボード操作による並び替えと順序永続化を実装する。
- [x] Requirement 8: 4サイズ以上の可変レイアウトとレスポンシブ再配置、コンパクト表示切替を実装する。
- [x] Requirement 9: 管理者プリセットの配布、差分マージ、更新通知を実装する。
- [x] Requirement 10: 契約・権限ベースの利用制限表示と監査ログ記録を実装する。

### Epic 3: 可視化とインサイト
- [x] Requirement 11: スプリントバーンダウン/バーンアップ/累積フローチャートと欠損表示、インタラクティブ操作を実装する。
- [x] Requirement 12: WIP警告とリード/サイクルタイム指標の即時再計算を実装する。
- [x] Requirement 13: 期日超過チケットのバッジ表示、担当/ラベル集計切替、エクスポートメタ情報同梱を実装する。
- [x] Requirement 14: コメント活発度トラッキング、未返信検知、未読メンション反映を実装する。
- [x] Requirement 15: バックログ健全性指標（未見積、陳腐化、優先度未設定警告）を実装する。

### Epic 4: テーマ＆ビジュアル言語
- [x] Requirement 16: 親しみのある明度高めテーマとWCAG準拠のコントラストを整備する。
- [x] Requirement 17: ライト/ダーク/ハイコントラスト切替とアニメーション仕様を実装する。
- [x] Requirement 18: セマンティックトークン、8ptグリッド、統一フォーカスリングを整備する。
- [x] Requirement 19: 穏やかなモーション設定と OS リデュースモーション対応を実装する。
- [x] Requirement 20: ブランドカラーカスタマイズと自動検証、テナント配布を実装する。

### Epic 5: 通知・アラート・インボックス
- [x] Requirement 21: 重要通知インボックス（即時追加、既読同期、フィルタリング）を実装する。
- [x] Requirement 22: 通知ミュート設定と重大アラート除外、ミュート解除時のサマリー提示を実装する。
- [x] Requirement 23: 重大アラート用ステータスバナーと履歴記録、推奨アクション表示を実装する。
- [x] Requirement 24: 日次ダイジェスト生成、配信チャネル選択、ウィジェット構成選択を実装する。

### Epic 6: 検索・フィルタ・クイック操作
- [x] Requirement 25: 横断検索（候補サジェスト、キーボード完結、履歴保存）を実装する。
- [x] Requirement 26: フィルタ保存と共有URL、公開範囲管理、差分通知を実装する。
- [x] Requirement 27: コマンドパレット（ショートカット起動、主要アクション実行、権限制御）を実装する。
- [x] Requirement 28: 期間・担当・ラベルのクイックフィルタとKPI/チャート同期を実装する。
- [x] Requirement 29: 検索/フィルタのパフォーマンス指標（インデックス反映、P95応答、エラー導線）を満たす。

### Epic 7: 共有・エクスポート・配信
- [x] Requirement 30: 読み取り専用共有リンク（有効期限/パスワード/IP制限、監査ログ）を実装する。
- [x] Requirement 31: スナップショットの画像/PDFエクスポート（メタ情報付与、印刷最適化、非公開情報除外）を実装する。
- [x] Requirement 32: 定期PDF配信（スケジュール送信、失敗時再送・通知、権限ベースマスキング）を実装する。
- [x] Requirement 33: 埋め込み用ウィジェット（署名付きトークン、期限管理、CSP対応）を実装する。
- [x] Requirement 34: CSVエクスポート（列定義提示、地域設定準拠、分割ダウンロード）を実装する。

### Epic 8: パフォーマンス・セキュリティ・アクセシビリティ・レスポンシブ
- [x] Requirement 35: 初回表示パフォーマンス、遅延読み込み、アセット最適化を満たす。
- [x] Requirement 36: RBAC/テナント分離/マスキングによるデータ保護を実装する。
- [x] Requirement 37: キーボード/スクリーンリーダー対応と非色依存の表現を整備する。
- [x] Requirement 38: モバイル/タブレット向けレスポンシブ配置とタップ領域を実装する。
- [x] Requirement 39: リアルタイム更新、フォールバック表示、最終更新タイムスタンプを整備する。
- [x] Requirement 40: サービス状態ウィジェットと障害情報表示、復旧後アナウンスを実装する。

## 3. カンバンボード (`docs/specs/kanban-board/requirements.md`)

### Epic 1: 親しみ感×落ち着いた明るさのビジュアルテーマ
- [x] Requirement 1: プリセットテーマの即時適用・保存復元・滑らかな切替を提供する。
- [x] Requirement 2: アクセント/中間トーンを安全なコントラストで微調整できるようにする。
- [x] Requirement 3: OS設定に連動したライト/ダーク自動切替と印刷時の配慮を実装する。
- [x] Requirement 4: 色覚多様性モードと凡例表示で誰でも識別できる表示を整える。

### Epic 2: カンバン基本操作（カード/列/ドラッグ&ドロップ/編集）
- [x] Requirement 5: 列間ドラッグ&ドロップと無効ドロップ防止、取り消しを実装する。
- [x] Requirement 6: インライン作成/編集と自動保存、連続作成モードを提供する。
- [x] Requirement 7: キーボードショートカットによる移動・編集・フォーカス表示を整備する。
- [x] Requirement 8: 操作履歴を保持し、取り消し/やり直しを安心して行えるようにする。

### Epic 3: 視覚メタファと情報表現（タグ/期限/担当/チェックリスト）
- [x] Requirement 9: タグの色/テキスト表示と溢れ制御、一貫性を確保する。
- [x] Requirement 10: 期限の近さ/超過を穏やかに可視化し、色覚配慮モードに適応させる。
- [x] Requirement 11: 担当者アバター/未割当バッジとプライバシー保護を実装する。
- [x] Requirement 12: チェックリスト進捗バッジと完了表示、並び順同期を整える。

### Epic 4: 検索・フィルタ・並び替え・ビュー保存
- [x] Requirement 13: タイトル/説明/タグの高速全文検索と正規化マッチングを実現する。
- [x] Requirement 14: 担当/タグ/期限フィルタと条件チップ、空状態表示を整える。
- [x] Requirement 15: 期限/優先度/更新日の並び替えと手動順の優先制御を提供する。
- [x] Requirement 16: 条件の保存/共有ビューと権限制御、上書き管理を実装する。

### Epic 5: レイアウトとレスポンシブ/モバイル操作/スイムレーン
- [x] Requirement 17: 自動列幅最適化と手動リサイズ、設定保持を行う。
- [x] Requirement 18: スクロールスナップ・オートスクロール・位置復元を実装する。
- [x] Requirement 19: モバイルジェスチャ対応とアクセシビリティ調整を提供する。
- [x] Requirement 20: スイムレーンによるグルーピングと折りたたみ、保存連携を整える。

### Epic 6: WIP（仕掛かり）制限とポリシー
- [x] Requirement 21: 列単位のWIP上限設定と監査ログ記録を実装する。
- [x] Requirement 22: 穏やかな警告と制限下の操作制御、色覚配慮対応を提供する。
- [x] Requirement 23: 強制/例外許可ポリシー切替と理由記録、テンプレ既定設定を実装する。
- [x] Requirement 24: WIPヒートマップと凡例、配慮モード切替を整える。

### Epic 7: フィードバック/アニメーション/トースト
- [x] Requirement 25: 控えめなドラッグアニメーションと低負荷モード対応を実装する。
- [x] Requirement 26: 保存/失敗/制限を伝える非破壊トーストと読み上げ対応を提供する。
- [x] Requirement 27: 危険操作の確認ダイアログと復元手段、アクセシビリティ配慮を整える。
- [x] Requirement 28: 操作音のオン/オフ切替と環境依存のフィードバック制御を実装する。

### Epic 8: パフォーマンス/永続化/オフライン・状態保持
- [x] Requirement 29: 大量カードでも滑らかな操作を維持する仮想化と軽量表示を実現する。
- [x] Requirement 30: 楽観的更新と差分解決、再同期フィードバックを提供する。
- [x] Requirement 31: オフライン作業キューと再接続同期、帯域配慮を実装する。
- [x] Requirement 32: ビュー/位置の復元と端末間同期、プライバシーモード対応を整える。

## 4. プロダクトバックログ (`docs/specs/product-backlog/requirements.md`)
- [ ] タイトル最小入力でのドラフト作成、詳細インライン編集、Markdownプレビューと画像アップロード、進行インジケーター/トースト/ローカル下書きの入力体験を整備する。
- [ ] ドラッグ&ドロップ並び替え、High/Medium/Low優先度管理、通知連携、価値スコアリング、ハイライト設定と淡色表示を実装する。
- [ ] ストーリーポイント見積りプリセット、キャパシティ警告付きスプリント一括移動、見積り確度トラッキング、依存関係登録/可視化をバックログとスプリントへ連携する。
- [ ] フィルタ・保存ビュー・全文検索・ハイライト設定・共有URLなどの閲覧/分析体験を提供する。

## 5. スプリント管理 (`docs/specs/sprint-manage/requirements.md`)
- [ ] スプリント計画（キャパシティ、ゴール、ポイント集計、バックログ割当、警告表示）を設定するUI/APIを実装する。
- [ ] 進行中スプリントの残日・コミット/完了ポイント集計、状態遷移（計画→進行→レビュー→完了）と通知/レポート連携を整備する。
- [ ] レトロスペクティブ記録、アクションアイテム管理、履歴スナップショット生成をレポートやダッシュボードへ連携する。

## 6. チケット一覧 (`docs/specs/ticket-list/requirements.md`)
- [ ] プロジェクト/スプリント/担当/タグ/期日/ステータスなど多軸フィルタ、列カスタマイズ、保存ビュー、バルク操作、インクリメンタル検索を実装する。
- [ ] ソート・ページネーション・統計集計、アクセス権制御、権限不足時の縮退表示、ショートカット対応を整える。
- [ ] エクスポート、通知購読、リアルタイム更新、アクセシビリティ（フォーカス管理、コントラスト）の要件を満たす。

## 7. チケット詳細 (`docs/specs/ticket-detail/requirements.md`)
- [ ] チケットのメタ情報、リレーション、チェックリスト、コメントスレッド、ファイル添付、メンション通知を備えた詳細ビューを実装する。
- [ ] 共同編集・ドラフト保存・差分マージ・編集履歴と監査ログの要件を満たす。
- [ ] 依存関係可視化、タイムライン表示、アクセス権による表示制御、印刷/エクスポートを提供する。

## 8. プロジェクト管理 (`docs/specs/project-manage/requirements.md`)
- [ ] プロジェクト基本情報、キー、ワークフロー列/WIP制限、テンプレート、既定表示設定の管理画面を構築する。
- [ ] メンバー招待・ロール割当・アクセスレベル・レビュー必須ポリシー・外部統合設定と監査ログを実装する。
- [ ] プロジェクトのKPIカード、リスク/ヘルス指標、リソース使用率の可視化をダッシュボード/レポートへ連携する。

## 9. ユーザー管理 (`docs/specs/user-manage/requirements.md`)
- [ ] 認証手段（メール+MFA、SAML/OIDC、APIキー、デバイスバインド）とロックアウト/IP制限/セッション管理を提供する。
- [ ] 招待・アクティベーション・APIクライアント承認・権限テンプレート配布を含むユーザーライフサイクル管理を実装する。
- [ ] ロール/スコープ評価、監査ログ生成、組織/チーム階層、ライセンス/利用状況メトリクスを管理する。

## 10. プロフィール (`docs/specs/profile/requirements.md`)
- [ ] プロフィール編集（名前/アイコン/連絡先/タイムゾーン）、通知設定、デバイス管理、ログイン履歴表示を実装する。
- [ ] 個人設定（テーマ、ショートカット、ビュー保存、アクセシビリティオプション）とローカル/サーバー同期を提供する。

## 11. レポート (`docs/specs/report/requirements.md`)
- [ ] バーンダウン・ベロシティ・リソース利用・優先度ギャップ・見積り確度などの集計レポートとフィルタ/ハイライト保存を実装する。
- [ ] 定期/手動レポート生成、CSV/PDFエクスポート、通知スケジュール、履歴スナップショット保存を整備する。
- [ ] レポートとダッシュボード/バックログ/スプリント間のデータ同期と整合性チェックを実装する。
